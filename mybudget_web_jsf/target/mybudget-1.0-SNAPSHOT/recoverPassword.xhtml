<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<h:head>
	<title>myBudget</title>
</h:head>

<h:body class="fontRegular login-back white-back">
	<f:event type="preRenderView" listener="#{accessControlViewController.checkAlreadyLoggedin}" />
    <p:growl globalOnly="true" autoUpdate="true" />
    <ui:include src="/WEB-INF/fragments/ajaxStatus.xhtml" />
	<div class="Container">
		<div
			class="Container80 MaxWid500 Fnone MarAuto TexAlCenter PaddingTopPercent10">
			<a href="" id="login-logo"> 
			<!-- <h:graphicImage
					name="images/LOGO.svg" styleClass="Fleft" library="sentinel-layout" /> -->
				<span class="Fs30 FontTitilliumSemiBoldItalic Fleft"><span
					class="yellow">my</span><span class="hardblue">Budget</span></span>
			</a>
			<div class="EmptyBox10"></div>
		</div>

		<!-- LOGIN BOX COVER START -->
		<div class="Container80 MaxWid500 white-back Fnone MarAuto BordRad10"
			id="login-box">
			<div class="Container">
				<div
					class="Container100 TexAlCenter Animated05 BoxSizeBorder TabBtn left TabBtnActiveLeft"
					role="1">
					<div class="Container80 Fnone MarAuto FontBold">
						#{msg['recoverPassword.pageTitle']}</div>
				</div>
				<div
					class="Container90 Fnone MarAuto TexAlCenter TabContent OvHidden"
					id="TAB1">
                    
					<h:form id="recuperacaoSenha">
						<p:outputPanel rendered="#{passwordRecoveyViewController.exibeFormSolicitarSenha}">
							<div>
								<h:outputLabel for="username" value="#{msg['recoverPassword.username']}" />
                                <div>
                                    <p:messages for="username" />
                                </div>
							</div>
							<p:inputText id="username" placeholder="#{msg['recoverPassword.username']}" value="#{passwordRecoveyViewController.username}" />
						</p:outputPanel>
						<p:outputPanel rendered="#{passwordRecoveyViewController.exibeFormConfirmarCodigo}">
							<div>
								<h:outputLabel for="codigo" value="#{msg['recoverPassword.codigo']}" />
                                <div>
                                    <p:messages for="codigo" />
                                </div>
							</div>
							<p:inputText id="codigo" placeholder="#{msg['recoverPassword.codigo']}" value="#{passwordRecoveyViewController.codigo}" />
						</p:outputPanel>
						<p:outputPanel rendered="#{passwordRecoveyViewController.exibeFormAtualizarSenha}">
							<div>
                                <div>
                                    <h:outputLabel for="password" value="#{msg['recoverPassword.password']}" />
                                    <div>
                                        <p:messages for="password" />
                                    </div>
                                </div>
                                <p:password id="password" required="true"
                                    feedback="true"
                                    promptLabel="#{msg['password.prompt']}"
                                    strongLabel="#{msg['password.prompt.strong']}"
                                    goodLabel="#{msg['password.prompt.good']}"
                                    weakLabel="#{msg['password.prompt.weak']}"
                                    value="#{passwordRecoveyViewController.password}" />
                            </div>
                            <div>
                                <div>
                                    <h:outputLabel for="confirmPassword"
                                        value="#{msg['recoverPassword.confirmPassword']}" />
                                    <div>
                                        <p:messages for="confirmPassword" />
                                    </div>
                                </div>
                                <p:password id="confirmPassword" required="true"
                                    value="#{passwordRecoveyViewController.confirmPassword}" />
                            </div>
                            <f:event type="postValidate" listener="#{confirmPasswordValidation.passwordValidation}" />
                            <f:attribute name="passwordId" value="password" />
                            <f:attribute name="confirmPasswordId" value="confirmPassword" />
						</p:outputPanel>
                        <div class="EmptyBox10"></div>
						<div class="TexAlCenter DispInlBlock">
					        <p:captcha id="captcha" language="#{facesContext.viewRoot.locale}" label="Captcha"  />
                        </div>
                        <div class="EmptyBox10"></div>
                        <p:outputPanel rendered="#{passwordRecoveyViewController.exibeFormSolicitarSenha}">
                            <p:commandButton action="#{passwordRecoveyViewController.solicitarRecuperacaoSenha}" ajax="true" process="@form" update="@form"
                                value="#{msg['recoverPassword.solicitarRecuperacaoSenha']}" />
                            <p:commandButton ajax="true" process="@form" update="@form" action="#{passwordRecoveyViewController.confirmarJaPossuiCodigo}"
                                value="#{msg['recoverPassword.confirmarJaPossuiCodigo']}" />
                        </p:outputPanel>
                        <p:outputPanel rendered="#{passwordRecoveyViewController.exibeFormConfirmarCodigo}">
                            <p:commandButton action="#{passwordRecoveyViewController.confirmarCodigo}" ajax="true" process="@form" update="@form"
                                value="#{msg['recoverPassword.confirmarCodigo']}" />
                        </p:outputPanel>
                        <p:outputPanel rendered="#{passwordRecoveyViewController.exibeFormAtualizarSenha}">
                            <p:commandButton action="#{passwordRecoveyViewController.atualizarSenha}" ajax="true" process="@form" update="@form"
                                value="#{msg['recoverPassword.atualizarSenha']}" />
                        </p:outputPanel>
					</h:form>
				</div>
				
			</div>
		</div>
	</div>
	<!-- LOGIN BOX COVER END -->

</h:body>

</html>